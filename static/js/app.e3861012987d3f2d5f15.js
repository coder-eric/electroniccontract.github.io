webpackJsonp([8],{"3wY5":function(t,n){},NHnr:function(t,n,e){"use strict";function r(t){e("VtuO")}Object.defineProperty(n,"__esModule",{value:!0});var o={};e.d(o,"address",function(){return O}),e.d(o,"contractList",function(){return S});var a,c=e("MVMM"),u=e("4YfN"),i=e.n(u),d=e("9rMa"),s=e("gyMJ"),l={name:"app",mounted:function(){this.getWalletInfo(),this.getContractList()},methods:i()({},Object(d.b)({setAddress:"SET_ADDRESS",setContractList:"SET_CONTRACTLIST"}),{getWalletInfo:function(){var t=this;window.postMessage({target:"contentscript",data:{},method:"getAccount"},"*"),window.addEventListener("message",function(n){n.data&&n.data.data&&n.data.data.account&&(t.setAddress(n.data.data.account),console.log("获取钱包地址成功"))})},getContractList:function(){var t=this;Object(s.b)().then(function(n){console.log("合同列表：",n),console.table(n);try{t.setContractList(n)}catch(n){console.log(n),t.$message.error("合同信息加载失败，请稍后再试！")}})}})},f=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},p=[],h={render:f,staticRenderFns:p},m=h,b=e("vSla"),g=r,v=b(l,m,!1,g,null,null),w=v.exports,A=e("mUbh"),O=function(t){return t.address},S=function(t){return t.contractList},T={address:"",contractList:[]},E=T,L=e("a3Yh"),M=e.n(L),N=(a={},M()(a,"SET_ADDRESS",function(t,n){t.address=n}),M()(a,"SET_CONTRACTLIST",function(t,n){t.contractList=n}),a),y=N;e("6LYt");c.default.use(d.a);var C=new d.a.Store({actions:A,getters:o,state:E,mutations:y,strict:!1,plugins:[]}),R=e("zO6J");c.default.use(R.a);var _=new R.a({routes:[{path:"/home",component:function(){return e.e(5).then(e.bind(null,"vkyI"))}},{path:"/",component:function(){return e.e(4).then(e.bind(null,"2NXm"))},children:[{path:"/",redirect:"/home"},{path:"/my",component:function(){return e.e(1).then(e.bind(null,"bfEA"))},children:[{path:"/",component:function(){return e.e(2).then(e.bind(null,"wpRo"))}},{path:"detail/:id",component:function(){return e.e(0).then(e.bind(null,"e6PQ"))}}]},{path:"/recive",component:function(){return e.e(1).then(e.bind(null,"bfEA"))},children:[{path:"/",component:function(){return e.e(2).then(e.bind(null,"wpRo"))}},{path:"detail/:id",component:function(){return e.e(0).then(e.bind(null,"e6PQ"))}}]},{path:"/draft",component:function(){return e.e(1).then(e.bind(null,"bfEA"))},children:[{path:"/",component:function(){return e.e(2).then(e.bind(null,"wpRo"))}},{path:"detail/:id",component:function(){return e.e(0).then(e.bind(null,"e6PQ"))}}]},{path:"/add",component:function(){return e.e(0).then(e.bind(null,"e6PQ"))}},{path:"/help",component:function(){return e.e(3).then(e.bind(null,"bsgR"))}}]},{path:"*",component:function(){return e.e(6).then(e.bind(null,"Kq85"))}}]}),P=_,Q=e("iDdd"),k=e.n(Q),x=e("uNf3"),I=e.n(x),J=(e("UhgQ"),e("3wY5")),Y=e.n(J),j=e("T452");c.default.prototype.$request=j.a,c.default.request=j.a,c.default.use(I.a),c.default.use(Y.a),c.default.config.productionTip=!0,k.a.attach(document.body),c.default.mixin({computed:{linkMap:function(){var t={"/add":"新建合同","/draft":"草稿合同","/my":"我的合同","/recive":"收到的合同","/help":"帮助"},n="";for(var e in t)this.$route.path.indexOf(e)>=0&&(n=t[e]);return this.$route.path.indexOf("detail")>0&&(n+="/详情"),n}}}),new c.default({el:"#app",router:P,store:C,template:"<App/>",components:{App:w}})},T452:function(t,n,e){"use strict";function r(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return new d.a(function(o,c){p[t](s.dappAddress,r,n,u()([].concat(a()(e))),{listener:function(t){""===t.result&&"contract check failed"===t.execute_err?(alert("合约检测失败，请检查浏览器钱包插件环境！"),c(JSON.parse(t.result))):"Network Error"===t?alert("网络错误，请稍后再试！"):o(t.txhash?{code:0,msg:"交易成功！"}:JSON.parse(t.result))}})})}var o=e("IHPB"),a=e.n(o),c=e("3cXf"),u=e.n(c),i=e("rVsN"),d=e.n(i),s={dappAddress:"n1mmtRc5nq58MmQAyou8rPV6YmEqMe4MfXv",hash:"cc484508419a2e1f3d7485ff2283f7d98c84bc8fc7257dbe27250e14f3c9c50d"},l=e("Nk4U"),f=e.n(l);n.a=r;var p=new f.a},UhgQ:function(t,n){},VtuO:function(t,n){},gyMJ:function(t,n,e){"use strict";function r(){return Object(a.a)("simulateCall","getContractList")}function o(t){return Object(a.a)("call","addAndModify",t)}n.b=r,n.a=o;var a=e("T452")},mUbh:function(t,n){}},["NHnr"]);
//# sourceMappingURL=app.e3861012987d3f2d5f15.js.map